# 화면 설계 (Wireframe)

이 문서는 '오늘의 사주' 서비스의 화면 흐름과 레이아웃을 정의합니다. 프로젝트의 빠른 진행을 위해 **MVP(최소 기능 제품)**와 **Post-MVP(고도화)** 단계로 나누어 설계합니다.

- **MVP**: 핵심 기능인 사주 정보 입력 및 결과 확인에 집중합니다. 단일 페이지 애플리케이션(SPA)으로 구성하여 사용자가 빠르게 가치를 경험하게 합니다.
- **Post-MVP**: `docs/json_schema.md`에 정의된 모든 데이터 구조를 활용하여, 유료화, 개인화, 관리 기능 등을 포함한 완전한 서비스로 확장합니다.

---

## 1. MVP 와이어프레임

### 1.1. IA (정보 구조) 및 라우팅

- **`/`**: 단일 페이지. 사주 정보 입력 폼과 결과 표시 화면을 모두 포함합니다.

### 1.2. 화면 구성 (`/`)

**[A] 최상단 헤더**
- **목적**: 서비스의 정체성을 보여줍니다.
- **컴포넌트**:
  - `h1`: "오늘의 사주"

**[B] 사주 정보 입력 폼 (`SajuForm.jsx`)**
- **목적**: 사용자의 생년월일시 정보를 받아 리포트 생성을 요청합니다.
- **컴포넌트**:
  - `form`: 전체 입력 영역
    - `label` & `input[type=date]`: 생년월일
    - `label` & `input[type=time]`: 태어난 시간
    - `button[type=submit]`: "사주 확인하기"

**[C] 사주 결과 표시 (`SajuResult.jsx`)**
- **목적**: `json_schema.md` 형식의 데이터를 받아 사용자에게 오늘의 운세 리포트를 시각적으로 제공합니다. 초기 상태에서는 숨겨져 있다가, 폼 제출 후 결과가 수신되면 나타납니다.
- **데이터 소스**: `docs/json_schema.md`의 `narrative`, `computed` 객체

- **레이아웃**:
  
  1.  **헤드라인 (`narrative.headline`)**
      - `h2`: `title` (예: "올해는 ‘정리 후 확장’ 흐름이 강해요")
      - `p`: `subtitle` (예: "근거 기반 요약 리포트")

  2.  **요약 (`narrative.summary`)**
      - `p`: `one_liner` (한 줄 요약)
      - `ul` > `li`: `bullets` (핵심 요약 3~5개)

  3.  **사주표 (`narrative.sections` where `id` is `saju_table`)**
      - `h3`: `title` (예: "사주표")
      - `table`: `blocks`의 `table` 타입 콘텐츠를 렌더링
        - 연/월/일/시, 천간/지지 표시

  4.  **항목별 운세 (`narrative.sections` where `id` is not `saju_table`)**
      - **반복 구조**: `love`, `work`, `money` 등 각 섹션을 순회하며 렌더링
      - **컴포넌트**:
        - `h3`: 섹션 `title` (예: "금전운")
        - **상태 분기 (`state`)**:
          - **`if state === 'free'`**: 
            - `blocks` 내부의 `paragraph`, `bullets` 등 모든 콘텐츠를 표시합니다.
          - **`if state === 'locked'`**: 
            - `blocks`의 첫 번째 `paragraph`만 맛보기로 보여줍니다.
            - 그 아래에 "전체 운세 보기"와 같은 CTA 버튼을 표시하여 향후 유료화로 연결될 수 있음을 암시합니다. (MVP에서는 클릭해도 아무 동작 안 함)

  5.  **면책 조항**
      - `footer`: "본 결과는 참고용이며, 중요한 결정의 근거로 사용될 수 없습니다."

--- 

## 2. Post-MVP 와이어프레임 (확장 계획)

> 💡 **참고**: 아래 내용은 MVP 이후의 확장 계획이며, `docs/json_schema.md`와 기존 `wireframe.md`의 상세 내용을 기반으로 재구성되었습니다. 

### 2.1. IA (정보 구조) 및 라우팅

- **`/`**: 신뢰도 강조 및 CTA 중심의 **랜딩 페이지**
- **`/start`**: 입력 전 가이드 페이지
- **`/input`**: 멀티스텝 정보 입력 페이지 (생년월일 → 시간 → 성별/저장)
- **`/result/preview/:token`**: 비회원용 결과 미리보기 페이지 (요약, 일부 잠금)
- **`/checkout/:token`**: 결제 페이지 (상품 선택: 1회권, 구독)
- **`/result/full/:reportId`**: 유료 회원을 위한 전체 결과 페이지 (모든 섹션, 근거 보기)
- **`/login`**: 소셜/이메일 로그인 페이지
- **`/mypage`**: 마이페이지 (리포트 목록, 결제 관리, 계정 설정)
- **`/admin`**: 관리자 페이지 (대시보드, 콘텐츠 관리 등)

### 2.2. 주요 화면 상세 설계

- **랜딩 페이지 (`/`)**: 서비스의 신뢰도를 강조하는 문구("룰 기반 계산", "근거 제시")와 함께 명확한 CTA("무료로 시작하기")를 제공합니다.

- **결과 미리보기 (`/result/preview/:token`)**: `json_schema.md`의 `narrative.sections`에서 `state`가 'locked'인 항목은 일부 내용만 보여주고 나머지는 블러 처리하여 결제를 유도합니다. `pricing_context`를 활용하여 사용자에게 노출될 기능을 제어합니다.

- **전체 결과 (`/result/full/:reportId`)**: 유료 사용자는 모든 `narrative.sections`의 전체 내용을 볼 수 있습니다. 또한, `evidence` 섹션을 통해 특정 운세 내용이 어떤 `computed` 값(예: `computed.elements.distribution.water`)에 기반했는지 시각적으로 연결하여 보여주는 '근거 보기' 기능을 제공합니다.

- **마이페이지 (`/mypage`)**: 사용자가 생성했던 리포트 목록을 보여주고, 언제든 다시 `reportId`를 통해 전체 결과를 조회할 수 있게 합니다.

- **관리자 페이지 (`/admin`)**: `engine_version`과 `content_version`에 따른 결과 변화를 테스트하고, 사용자 피드백을 관리하는 등 운영에 필요한 기능을 제공합니다.
